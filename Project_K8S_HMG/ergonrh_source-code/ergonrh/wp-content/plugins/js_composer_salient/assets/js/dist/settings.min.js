$("#vc_settings-vc-pointers-reset").click(function(e){e.preventDefault(),$.post(window.ajaxurl,{action:"vc_pointer_reset",_vcnonce:window.vcAdminNonce}),$(this).text($(this).data("vcDoneTxt"))});var lessBuilding=!1;$("#vc_settings-color").submit(function(e){if(e.preventDefault(),!lessBuilding){var form,$submitButton,$designCheckBox;if(form=this,$submitButton=$("#submit_btn"),$designCheckBox=$("#wpb_js_use_custom"),$designCheckBox.prop("checked")&&"restore_color"!==$("#vc_settings-color-action").val()){var modifyVars,variablesDataLinker,$spinner;lessBuilding=!0,modifyVars=$(form).serializeArray(),variablesDataLinker=$submitButton.data("vc-less-variables"),$spinner=$('<span class="vc_settings-spinner vc_ui-wp-spinner"></span>'),$submitButton.val(window.i18nLocaleSettings.saving),$spinner.insertBefore($submitButton).show(),_.delay(function(){vc.less.build({modifyVars:modifyVars,variablesDataLinker:variablesDataLinker,lessPath:$submitButton.data("vc-less-path"),rootpath:$submitButton.data("vc-less-root")},function(output,error){if(_.isUndefined(output)||_.isUndefined(output.css))_.isUndefined(error)||(window.console&&window.console.error&&window.console.error(error),showMessageMore(window.i18nLocaleSettings.save_error+". "+error,"error",void 0,!0).insertBefore($submitButton.parent()).fadeIn(500),$submitButton.val(window.i18nLocaleSettings.save),lessBuilding=!1,$spinner.remove());else{$('[name="wpb_js_compiled_js_composer_less"]').val(output.css);var $form=$("#vc_settings-color");$.ajax({type:"POST",url:$form.attr("action"),data:$form.eq(0).serializeArray(),success:function(){showMessageMore(window.i18nLocaleSettings.saved,"updated",5e3,!0).insertBefore($submitButton.parent()).fadeIn(500),$submitButton.val(window.i18nLocaleSettings.save),lessBuilding=!1,$spinner.remove()},error:function(){showMessageMore(window.i18nLocaleSettings.form_save_error,"error",void 0,!0).insertBefore($submitButton.parent()).fadeIn(500),$submitButton.val(window.i18nLocaleSettings.save),lessBuilding=!1,$spinner.remove()}})}})},100)}else form.submit()}})});